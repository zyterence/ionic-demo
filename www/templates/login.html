<ion-modal-view>
  <ion-header-bar>
    <h1 class="title">Login</h1>
    <div class="buttons">
      <button class="button button-clear" ng-click="closeLogin()">Close</button>
    </div>
  </ion-header-bar>
  <ion-content>
    <form name="loginForm" ng-submit="doLogin()">
      <div class="list">
        <label class="item item-input">
          <span class="input-label">Username</span>
          <input name="username"
            type="text"
            class="form-control error"
            ng-model="loginData.username"
            ng-minlength="4"
            ng-maxlength="20"
            required>
        </label>
        <p class="error" ng-if="
          loginForm.username.$error.required &&
          loginForm.username.$touched">用户名不可为空</p>
        <p class="error" ng-if="
          (loginForm.username.$error.minlength ||
          loginForm.username.$error.maxlength) &&
          loginForm.username.$touched">用户名长度应该在4~20位之间</p>
        <label class="item item-input">
          <span class="input-label">Password</span>
          <input name="password"
            type="password"
            class="form-control error"
            ng-model="loginData.password"
            ng-minlength="6"
            ng-maxlength="64"
            required>
        </label>
        <p class="error" ng-if="
            loginForm.password.$error.required &&
            loginForm.password.$touched">密码不可为空</p>
        <p class="error" ng-if="
          (loginForm.password.$error.minlength ||
          loginForm.password.$error.maxlength) &&
          loginForm.password.$touched">密码长度应该在6~64位之间</p>
        <label class="item">
          <button class="button button-block button-positive"
            type="submit"
            ng-disabled="!loginForm.username.$valid || !loginForm.password.$valid">
            Log in
          </button>
          <p class="error">{{ message }}</p>
        </label>
      </div>
    </form>
  </ion-content>
</ion-modal-view>
